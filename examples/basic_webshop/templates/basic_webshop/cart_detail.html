{% extends "basic_webshop/base.html" %}

{% block content %}
    <h1>Shopping cart</h1>
    
    <h2>Products</h2>
    <table>
        <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Price</th>
        </tr>
        {% for cartitem in cart.cartitem_set.all %}
            {% with cartitem.product as product %}
            <tr>
                <td><a href="{{ product.get_absolute_url }}">{{ product }}</a></td>
                <td>{{ cartitem.quantity }}</td>
                <td>{{ cartitem.price }}</td>
            </tr>
            {% endwith %}
        {% empty %}
            <tr>
                <td>No products so far.</td>
            </tr>
        {% endfor %}
    </table>
{% endblock content %}